/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||(function(l){"use strict";var k=l.URL||l.webkitURL||l,f=l.webkitRequestFileSystem,m=l.requestFileSystem||f||l.mozRequestFileSystem,c=function(n){(l.setImmediate||setTimeout)(function(){throw n},0)},j="application/octet-stream",h=0,g=[],e=function(){var o=g.length;while(o--){var n=g[o];if(typeof n==="string"){k.revokeObjectURL(n)}else{n.remove()}}g.length=0},i=function(o,n,r){n=[].concat(n);var q=n.length;while(q--){var s=o["on"+n[q]];if(typeof s==="function"){try{s.call(o,r||o)}catch(p){c(p)}}}},b=function(o,q){var n=this,r=o.type,u=function(){var v=k.createObjectURL(o);p.location.href=v;g.push(v);n.readyState=n.DONE;i(n,"writestart progress write writeend".split(" "))},s=function(v){return function(){if(n.readyState!==n.DONE){return v.apply(this,arguments)}}},p,t;n.readyState=n.INIT;if(!q){q="download"}if(l.chrome&&r!==j){t=o.slice||o.webkitSlice;o=t.call(o,0,o.size,j)}if(f&&q!=="download"){q+=".download"}if(r===j||f){p=self}else{p=open()}if(!m){u();return}h+=o.size;m(l.TEMPORARY,h,s(function(v){v.root.getDirectory("saved",{create:true,exclusive:false},s(function(w){var x=function(){w.getFile(q,{create:true,exclusive:false},s(function(y){y.createWriter(s(function(z){z.onwriteend=function(A){p.location.href=y.toURL();g.push(y);n.readyState=n.DONE;i(n,"writeend",A)};z.onerror=function(){var A=z.error;if(A.code!==A.ABORT_ERR){u()}};"writestart progress write abort".split(" ").forEach(function(A){z["on"+A]=n["on"+A]});z.write(o);n.abort=function(){z.abort();n.readyState=n.DONE};n.readyState=n.WRITING}),u)}),u)};w.getFile(q,{create:false},s(function(y){y.remove();x()}),s(function(y){if(y.code===y.NOT_FOUND_ERR){x()}else{u()}}))}),u)}),u)},a=b.prototype,d=function(n,o){return new b(n,o)};a.abort=function(){var n=this;n.readyState=n.DONE;i(n,"abort")};a.readyState=a.INIT=0;a.WRITING=1;a.DONE=2;a.error=a.onwritestart=a.onprogress=a.onwrite=a.onabort=a.onerror=a.onwriteend=null;l.addEventListener("unload",e,false);return d}(self));